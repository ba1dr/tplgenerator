# -*- coding: utf-8 -*-

"""
    This file contains final aggregated settings for the project.
    Do NOT edit this file manually.
    All changes should be done in files base.py or local.py or /usr/local/etc/<%= @project_name %>.yaml

    Settings get overridden in this order:
    base.py -> (development/production).py -> local.py -> /usr/local/etc/<%= @project_name %>.yaml -> settings.py
    Most secret and server-specific settings should reside in .yaml file.
    Other files are stored in repository
"""

import os
from ..apps.utils.dynsettings import import_settings
from .local import *

if not os.path.exists(LOCAL_SETTINGS_FILE):
    raise Exception("Local setting sile %s not found!" % LOCAL_SETTINGS_FILE)

import_settings(LOCAL_SETTINGS_FILE)

from .logging_settings import LOGGING, LOG_FOLDER

if DEBUG:
    # make all loggers use the console.
    for logger in LOGGING['loggers']:
        LOGGING['loggers'][logger]['handlers'] = ['console']
