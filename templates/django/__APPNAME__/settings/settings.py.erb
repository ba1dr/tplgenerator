# -*- coding: utf-8 -*-

"""
    This file contains final aggregated settings for the project.
    Do NOT edit this file manually.
    All changes should be done in files base.py or local.py or /usr/local/etc/<%= @project_name %>.yaml

    Settings get overridden in this order:
    base.py -> (development/production).py -> local.py -> /usr/local/etc/<%= @project_name %>.yaml -> settings.py
    Most secret and server-specific settings should reside in .yaml file.
    Other files are stored in repository
"""

import os
from ..apps.utils.dynsettings import import_settings
from .django import *
from .local import *

from .logging_settings import get_logging_config

#
# ACTIONS
# DO NOT ADD ANYTHING BELOW THIS LINE
#
INSTALLED_APPS = DJANGO_APPS + THIRD_PARTY_APPS + APPS + LOCAL_APPS
if 'debug_toolbar' in INSTALLED_APPS:
    MIDDLEWARE = ['debug_toolbar.middleware.DebugToolbarMiddleware', ] + MIDDLEWARE

import_settings(settings_file, default_settings_file)  # redefine

LOGGING = get_logging_config('<%= @project_name %>', LOG_FOLDER, apps=APPS + LOCAL_APPS, debug=DEBUG)
logging.config.dictConfig(LOGGING)

# logger by default
default_logger = logging.getLogger("main")
